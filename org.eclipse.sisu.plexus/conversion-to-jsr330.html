<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0-M19 from src/site/markdown/conversion-to-jsr330.md at 2024-09-09
 | Rendered using Apache Maven Fluido Skin 2.0.0-M11-SNAPSHOT
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0-M19" />
    <title>Overview â€“ Eclipse Sisu Plexus</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-2.0.0-M11-SNAPSHOT.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-2.0.0-M11-SNAPSHOT.min.js"></script>
  </head>
  <body>
    <a class="github-fork-ribbon right-top" href="https://github.com/eclipse-sisu/sisu-project" data-ribbon="Fork me on GitHub">Fork me on GitHub</a>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1><a href="../"><img src="../sisu-black.png" /></a></h1></div></div>
          <div class="pull-right"><div id="bannerRight"><h1><a href="https://eclipse.org/"><img src="../eclipse-foundation.svg" style="width: 150;" /></a></h1></div></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
      <li><a href="index.html">Sisu</a><span class="divider">/</span></li>
    <li class="active">Overview <a href="https://github.com/eclipse/sisu.project/org.eclipse.sisu.plexus/src/site/markdown/conversion-to-jsr330.md"><img src="./images/accessories-text-editor.png" alt="Edit" /></a></li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2024-09-09</li>
          <li id="projectVersion" class="pull-right"><span class="divider">|</span>Version: 0.9.0-SNAPSHOT</li>
        <li class="pull-right"><span class="divider">|</span>
<a href="https://projects.eclipse.org/projects/technology.sisu" class="externalLink">Eclipse Project Info</a></li>
        <li class="pull-right"><a href="https://github.com/google/guice" class="externalLink">Google Guice</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">General</li>
    <li><a href="../index.html">About</a></li>
    <li><a href="../apidocs/index.html">Javadoc</a></li>
    <li><a href="../download.html">Download</a></li>
    <li><a href="../support.html">Support</a></li>
    <li><a href="../development.html">Development</a></li>
   <li class="nav-header">Sisu Plexus</li>
    <li><a href="index.html">Overview</a></li>
    <li class="active"><a>Convert to JSR-330 annotations</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
<form id="search-form" action="https://www.google.com/search" method="get" >
  <input value="eclipse.dev/sisu/org.eclipse.sisu.plexus/" name="sitesearch" type="hidden" />
  <input class="search-query" name="q" id="query" type="text" placeholder="Search with Google..." />
</form>
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://maven.apache.org/" class="builtBy" target="_blank"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">
<ul>
<li><a href="#Overview">Overview</a></li>
<li><a href="#Annotations">Annotations</a>
<ul>
<li><a href="#References">References</a></li></ul></li>
<li><a href="#Code_Examples">Code Examples</a>
<ul>
<li><a href="#a.40Component">@Component</a>
<ul>
<li><a href="#Singletons">Singletons</a></li>
<li><a href="#Instance">Instance</a></li>
<li><a href="#Type_Override">Type Override</a></li>
<li><a href="#Descriptions">Descriptions</a></li></ul></li>
<li><a href="#a.40Requirement">@Requirement</a>
<ul>
<li><a href="#Basics">Basics</a></li>
<li><a href="#Alternatives">Alternatives</a></li>
<li><a href="#Optional">Optional</a></li>
<li><a href="#Names_and_Hints">Names and Hints</a></li>
<li><a href="#Types">Types</a></li></ul></li>
<li><a href="#a.40Configuration">@Configuration</a>
<ul>
<li><a href="#Basics_1">Basics</a></li>
<li><a href="#Defaults">Defaults</a></li></ul></li>
<li><a href="#Lifecycle_Support">Lifecycle Support</a>
<ul>
<li><a href="#Initializable">Initializable</a></li>
<li><a href="#Contextualizable">Contextualizable</a></li>
<li><a href="#Startable">Startable</a></li>
<li><a href="#Disposable">Disposable</a></li></ul></li>
<li><a href="#Custom_Bindings">Custom Bindings</a></li></ul></li></ul>
<section><a id="Overview"></a>
<h1>Overview</h1>
<p>This document provides some details on how to convert legacy Plexus components into modern JSR-330 components.</p></section><section><a id="Annotations"></a>
<h1>Annotations</h1>
<p>For brevity of examples imports are omitted. The following table defines the meanings and fully-qualified-class-names of the annotations references in the following examples.</p>
<table class="table table-striped">
<thead>
<tr class="a">
<th>Annotation</th>
<th>Class</th>
<th>Description</th></tr></thead><tbody>
<tr class="b">
<td><code>@Component</code></td>
<td><code>org.codehaus.plexus.component.annotations.Component</code></td>
<td>Legacy Plexus component annotation</td></tr>
<tr class="a">
<td><code>@Requirement</code></td>
<td><code>org.codehaus.plexus.component.annotations.Requirement</code></td>
<td>Legacy Plexus injection annotation</td></tr>
<tr class="b">
<td><code>@Configuration</code></td>
<td><code>org.codehaus.plexus.component.annotations.Configuration</code></td>
<td>Legacy Plexus configuration annotation</td></tr>
<tr class="a">
<td><code>@Named</code></td>
<td><code>javax.inject.Named</code></td>
<td>Standard JSR-330 annotation to provide component name</td></tr>
<tr class="b">
<td><code>@Singleton</code></td>
<td><code>javax.inject.Singleton</code></td>
<td>Standard JSR-330 annotation to mark component as singleton</td></tr>
<tr class="a">
<td><code>@Typed</code></td>
<td><code>javax.enterprise.inject.Typed</code></td>
<td>JavaEE annotation to mark component type</td></tr>
<tr class="b">
<td><code>@Description</code></td>
<td><code>org.eclipse.sisu.Description</code></td>
<td>Sisu-specific annotation to provide a description for a component</td></tr>
<tr class="a">
<td><code>@Parameters</code></td>
<td><code>org.eclipse.sisu.Parameters</code></td>
<td>Sisu-specific annotation to mark `Map` injection as container context parameters.</td></tr>
<tr class="b">
<td><code>@Inject</code></td>
<td><code>javax.inject.Inject</code></td>
<td>Standard JSR-330 annotation to mark field, parameter, method for injection</td></tr>
<tr class="a">
<td><code>@Nullable</code></td>
<td><code>javax.annotation.Nullable</code></td>
<td>Standard JSR-305 annotation to mark field, parameter, result value as potentially returning null value</td></tr></tbody>
</table>

<p><strong><code>javax.inject</code> vs. <code>com.google.inject</code></strong></p>
<p>There are <code>com.google.inject</code> flavors of @Inject, @Named and @Singleton which should NOT be used.</p>
<p>Prefer the standard <code>javax.inject</code> versions.</p><section><a id="References"></a>
<h2>References</h2>
<ol style="list-style-type: decimal;">

<li><a href="https://javax-inject.github.io/javax-inject/" class="externalLink">JSR-330: Dependency Injection for Java</a></li>
<li><a href="https://www.jcp.org/en/jsr/detail?id=305" class="externalLink">JSR-305: Annotations for Software Defect Detection</a></li>
</ol></section></section><section><a id="Code_Examples"></a>
<h1>Code Examples</h1><section><a id="a.40Component"></a>
<h2>@Component</h2>
<p>Plexus @Component annotations are replaced by standard @Named, @Singleton, etc annotations.</p><section><a id="Singletons"></a>
<h3>Singletons</h3>
<p>For example this Plexus component:</p>

<pre class="prettyprint linenums"><code>@Component(role=Component.class, hint=&quot;my&quot;)
public class MyComponent
    implements Component
{
}
</code></pre>
<p>can be converted to:</p>

<pre class="prettyprint linenums"><code>@Named(&quot;my&quot;)
@Singleton
public class MyComponent
    implements Component
{
}
</code></pre>
<p><strong>Naming Variants</strong></p>
<p>Components which are not directly looked up by names, or otherwise used in a context where the name is important you can omit the value for <code>@Named</code> and the full-qualified-class-name of the component will be used as the name instead.</p>

<pre class="prettyprint linenums"><code>package components;
@Named
@Singleton
public class MyComponent
    implements Component
{
}
</code></pre>
<p>Results in a component with implicit name of &#x201c;components.MyComponent&#x201d;</p>
<p>Additionally the Sisu Plexus integration has special handling for Plexus default components. Many Plexus applications define objects like:</p>

<pre class="prettyprint linenums"><code>@Component(role=Component.class)
public class DefaultComponent
    implements Component
{
}
</code></pre>
<p>The <code>Default</code> prefix on the component implementation class causes the binding to be translated to <code>@Named(&quot;default&quot;)</code>, so the conversion would look like:</p>

<pre class="prettyprint linenums"><code>package components;
@Named
@Singleton
public class DefaultComponent
    implements Component
{
}
</code></pre>
<p>BUT the name bound for this component would be &#x201c;default&#x201d;.</p></section><section><a id="Instance"></a>
<h3>Instance</h3>
<p>By default in Plexus, components are singletons, but this is not the case for every component. This Plexus component is not a singleton:</p>

<pre class="prettyprint linenums"><code>@Component(role=Component.class, hint=&quot;my&quot;, instantiationStrategy=&quot;per-lookup&quot;)
public class MyComponent
    implements Component
{
}
</code></pre>
<p>and is converted to:</p>

<pre class="prettyprint linenums"><code>@Named(&quot;my&quot;)
public class MyComponent
    implements Component
{
}
</code></pre>
<p>Notice this is the same as the example above, except with-out the @Singleton annotation.</p>
<p>Only per-lookup and singleton instantiation strategies have reasonable mappings into Sisu. The keep-alive and poolable strategies are not supported.</p>
<p>Additionally other Plexus-specific component configuration such as lifecycle-handlers, factories, composer, configurator, alias, version, profile, isolatedRealm are NOT supported.</p></section><section><a id="Type_Override"></a>
<h3>Type Override</h3>
<p>By default the type of the component is determined automatically, though in some rare cases an explicit type is required. To specify the explicit binding type use the @Typed annotation:</p>

<pre class="prettyprint linenums"><code>@Named(&quot;my&quot;)
@Typed(Component.class)
public class MyComponent
    extends SomeSupportClassHardToGuessTypeFrom
{
}
</code></pre></section><section><a id="Descriptions"></a>
<h3>Descriptions</h3>
<p>In some cases component descriptions are required. There is no standard annotation to provide this, however Sisu provides a custom annotation for this.</p>

<pre class="prettyprint linenums"><code>@Component(role=Component.class, hint=&quot;my&quot;, description=&quot;My custom component&quot;)
public class MyComponent
    implements Component
{
}
</code></pre>
<p>becomes:</p>

<pre class="prettyprint linenums"><code>@Named(&quot;my&quot;)
@Singleton
@Description(&quot;My custom component&quot;)
public class MyComponent
    implements Component
{
}
</code></pre></section></section><section><a id="a.40Requirement"></a>
<h2>@Requirement</h2><section><a id="Basics"></a>
<h3>Basics</h3>
<p>@Requirement defines injection points for legacy Plexus components. These more-or-less line-up directly with replacement with @Inject, though there are more options available as @Inject is support for fields, constructors and methods, where @Requirement only worked with fields. The recommended option is to replace legacy Plexus injection with constructor injection where possible.</p>

<pre class="prettyprint linenums"><code>@Component(role=Component.class, hint=&quot;my&quot;)
public class MyComponent
    implements Component
{
    @Requirement
    private AnotherComponent another;
}
</code></pre>
<p>becomes:</p>

<pre class="prettyprint linenums"><code>@Named(&quot;my&quot;)
@Singleton
public class MyComponent
    implements Component
{
    private final AnotherComponent another;

    @Inject
    public MyComponent(final AnotherComponent another) {
        this.another = another;
    }
}
</code></pre>
<p>Use of constructor injection in this fashion has some impact on replacing legacy Plexus lifecycle Initializable and Contextualizable interfaces, which often only exist to perform setup once injection is performed.</p></section><section><a id="Alternatives"></a>
<h3>Alternatives</h3>
<p>Other options for conversions using field injection:</p>

<pre class="prettyprint linenums"><code>@Named(&quot;my&quot;)
@Singleton
public class MyComponent
    implements Component
{
    @Inject
    private AnotherComponent another;
}
</code></pre>
<p>This is not recommended, as it makes it difficult to UNIT test the code w/o a full container to provide injection, which in itself can be problematic for UNIT testing. We highly recommend this form of injection NOT BE USED.</p>
<p>or method injection:</p>

<pre class="prettyprint linenums"><code>@Named(&quot;my&quot;)
@Singleton
public class MyComponent
implements Component
{
    private AnotherComponent another;

    @Inject
    public setAnotherComponent(final AnotherComponent another) {
        this.another = another;
    }
}
</code></pre></section><section><a id="Optional"></a>
<h3>Optional</h3>
<p>Optional components are configured to be @Nullable</p>

<pre class="prettyprint linenums"><code>@Component(role=Component.class, hint=&quot;my&quot;)
public class MyComponent
    implements Component
{
    @Requirement(optional=true)
    private AnotherComponent another;
}
</code></pre>
<p>becomes:</p>

<pre class="prettyprint linenums"><code>@Named(&quot;my&quot;)
@Singleton
public class MyComponent
    implements Component
{
    private final AnotherComponent another;

    @Inject
    public MyComponent(final @Nullable AnotherComponent another) {
        this.another = another;
    }
}
</code></pre></section><section><a id="Names_and_Hints"></a>
<h3>Names and Hints</h3>
<p>Legacy Plexus component hints become @Named:</p>

<pre class="prettyprint linenums"><code>@Component(role=Component.class, hint=&quot;my&quot;)
public class MyComponent
    implements Component
{
    @Requirement(hint=&quot;foo&quot;)
    private AnotherComponent another;
}
</code></pre>
<p>becomes:</p>

<pre class="prettyprint linenums"><code>@Named(&quot;my&quot;)
@Singleton
public class MyComponent
    implements Component
{
    private final AnotherComponent another;

    @Inject
    public MyComponent(final @Named(&quot;foo&quot;) AnotherComponent another) {
        this.another = another;
    }
}
</code></pre></section><section><a id="Types"></a>
<h3>Types</h3>
<p>Legacy Plexus component roles, which are normally only used for collection types are generally not needed:</p>

<pre class="prettyprint linenums"><code>@Component(role=Component.class, hint=&quot;my&quot;)
public class MyComponent
    implements Component
{
    @Requirement(role=AnotherComponent.class)
    private List components;
}
</code></pre>
<p>becomes:</p>

<pre class="prettyprint linenums"><code>@Named(&quot;my&quot;)
@Singleton
public class MyComponent
implements Component
{
    private final List components;

    @Inject
    public MyComponent(final List components) {
        this.components = components;
    }
}
</code></pre></section></section><section><a id="a.40Configuration"></a>
<h2>@Configuration</h2>
<p>Plexus configuration injection is handled by `@Inject @Named(&#x201c;${expression}&#x201d;)` injection.</p><section><a id="Basics_1"></a>
<h3>Basics</h3>

<pre class="prettyprint linenums"><code>@Component(role=Component.class, hint=&quot;my&quot;)
public class MyComponent
    implements Component
{
    @Configuration(name=&quot;configDir&quot;)
    private File configDir;
}
</code></pre>
<p>becomes:</p>

<pre class="prettyprint linenums"><code>@Named(&quot;my&quot;)
@Singleton
public class MyComponent
    implements Component
{
    private final File configDir;

    @Inject
    public MyComponent(final @Named(&quot;${configDir}&quot;) configDir) {
        this.configDir = configDir;
    }
}
</code></pre></section><section><a id="Defaults"></a>
<h3>Defaults</h3>
<p>Default values are provided by expression syntax.</p>

<pre class="prettyprint linenums"><code>@Component(role=Component.class, hint=&quot;my&quot;)
public class MyComponent
    implements Component
{
    @Configuration(name=&quot;configDir&quot;, value=&quot;defaultDir&quot;)
    private File configDir;
}
</code></pre>
<p>becomes:</p>

<pre class="prettyprint linenums"><code>@Named(&quot;my&quot;)
@Singleton
public class MyComponent
    implements Component
{
    private final File configDir;

    @Inject
    public MyComponent(final @Named(&quot;${configDir:-defaultDir}&quot;) configDir) {
        this.configDir = configDir;
    }
}
</code></pre></section></section><section><a id="Lifecycle_Support"></a>
<h2>Lifecycle Support</h2>
<p>This section is specific to how to adapt legacy Plexus component lifecycle interfaces. There is no hard-fast way to adapt these, but there are some guidelines to follow.</p>
<table class="table table-striped">
<thead>
<tr class="a">
<th>Interface</th>
<th>Class</th>
<th>Description</th></tr></thead><tbody>
<tr class="b">
<td>Initializable</td>
<td>org.codehaus.plexus.personality.plexus.lifecycle.phase.Initializable</td>
<td>Hook was used to inform a component once its injection has been performed.</td></tr>
<tr class="a">
<td>Contextualizable</td>
<td>org.codehaus.plexus.personality.plexus.lifecycle.phase.Contextualizable</td>
<td>Similar to Initializable but passes in the container context.</td></tr>
<tr class="b">
<td>Startable</td>
<td>org.codehaus.plexus.personality.plexus.lifecycle.phase.Startable</td>
<td>Allows components to be started and stopped.</td></tr>
<tr class="a">
<td>Disposable</td>
<td>org.codehaus.plexus.personality.plexus.lifecycle.phase.Disposable</td>
<td>Hook used to inform a component that it is no longer available in the container.</td></tr></tbody>
</table>
<section><a id="Initializable"></a>
<h3>Initializable</h3>
<p>By and far this can be replaced by using constructor-inject, and performing the initialize() at the end of the constructor.</p>

<pre class="prettyprint linenums"><code>@Component(role=Component.class, hint=&quot;my&quot;)
public class MyComponent
    implements Component, Initializable
{
    @Requirement
    private AnotherComponent another;

    public initialize() throws InitializationException {
        another.init();
    }
}
</code></pre>
<p>becomes:</p>

<pre class="prettyprint linenums"><code>@Named(&quot;my&quot;)
@Singleton
public class MyComponent
    implements Component
{
    private final AnotherComponent another;

    @Inject
    public MyComponent(final AnotherComponent another) {
    this.another = another;
        another.init();
    }
}
</code></pre></section><section><a id="Contextualizable"></a>
<h3>Contextualizable</h3>
<p>Similar to Initializable, though if the context is needed you can inject the container context parameters with:</p>

<pre class="prettyprint linenums"><code>@Named(&quot;my&quot;)
@Singleton
public class MyComponent
    implements Component
{
    @Inject
    public MyComponent(final @Parameters Map params) {
        // do something with \_context\_ params
    }
}
</code></pre></section><section><a id="Startable"></a>
<h3>Startable</h3>
<p>Support for JSR250 lifecycle annotations is available when enabled for the Plexus wrapper ([Maven 3.5+](<a href="https://issues.apache.org/jira/browse/MNG-6084" class="externalLink">https://issues.apache.org/jira/browse/MNG-6084</a>) enables JSR250 support). If JSR250 support is not enabled then applications can use other techniques to handle start/stop behavior. The examples below show the solution used in Sonatype Nexus, which relies on a modified implementation of the Google-Guava EventBus to manage lifecycle events.</p>

<pre class="prettyprint linenums"><code>@Component(role=Component.class, hint=&quot;my&quot;)
public class MyComponent
    implements Component, Startable
{
    public start() throws StartingException {
        // do something to &quot;start&quot;
    }

    public stop() throws StoppingException {
        // do something to &quot;stop&quot;
    }
}
</code></pre>
<p>becomes:</p>

<pre class="prettyprint linenums"><code>import org.sonatype.sisu.goodies.eventbus.EventBus;
import com.google.common.eventbus.Subscribe;

@Named(&quot;my&quot;)
@Singleton
public class MyComponent
    implements Component
{
    private final EventBus eventBus;

    @Inject
    public MyComponent(final EventBus eventBus) {
        this.eventBus = eventBus;
        eventBus.register(this);
    }

    @Subscribe
    public on(final NexusStartedEvent event) throws Exception {
        // do something to &quot;start&quot;
    }

    @Subscribe
    public on(final NexusStoppedEvent event) throws Exception {
        // do something to &quot;stop&quot;

        eventBus.unregister(this);
    }
}
</code></pre></section><section><a id="Disposable"></a>
<h3>Disposable</h3>
<p>Similar to Startable use of events are used to handle replacement for Disposable components.</p>

<pre class="prettyprint linenums"><code>@Component(role=Component.class, hint=&quot;my&quot;)
public class MyComponent
    implements Component, Disposable
{
    public dispose() {
        // do something to &quot;dispose&quot;
    }
}
</code></pre>
<p>becomes:</p>

<pre class="prettyprint linenums"><code>import org.sonatype.sisu.goodies.eventbus.EventBus;
import com.google.common.eventbus.Subscribe;

@Named(&quot;my&quot;)
@Singleton
public class MyComponent
    implements Component
{
    private final EventBus eventBus;

    @Inject
    public MyComponent(final EventBus eventBus) {
        this.eventBus = eventBus;
        eventBus.register(this);
    }

    @Subscribe
    public on(final NexusStoppedEvent event) throws Exception {
        // do something to &quot;dispose&quot;

        eventBus.unregister(this);
    }
}
</code></pre></section></section><section><a id="Custom_Bindings"></a>
<h2>Custom Bindings</h2>
<p>Plugins which require additional custom bindings can provide a @Named Guice module to configure components bindings further.</p>
<p>Sisu will automatically load modules which are @Named and apply them to the injectors bindings. These modules are really no different than normal Guice modules, except that they need to have the @Named annotation on them so that Sisu can locate them when initializing.</p>

<pre class="prettyprint linenums"><code>@Named
public class MyPluginModule
    extends com.google.inject.AbstractModule
{
    public void configure() {
        bind(Component.class).to(MyComponent.class);
    }
}
</code></pre>
<p>Note that Maven Class Loading mechanism does not expose the Guice API to plugins by default, you need to expose it yourself using the `extension.xml` config file. This file is where we list the exposed APIs from maven core to plugins.</p>
<p>Since core extensions are the only way to modify any behaviour of maven core, we have to create a core extension and put this file in it in order to modify the exposed APIs.</p>
<p>Even if you define custom Guice modules in your plugins by adding the Guice classes into your Classpath (by adding Guice libraries as dependencies in your pom.xml for example), they will not be picked up by maven due to the separation of Classpaths.</p>
<p>If you want to read more about maven class loader, see documentation <a href="https://maven.apache.org/guides/mini/guide-maven-classloading.html#Core_Classloader" class="externalLink">here</a>.</p>
<p>To activate the Guice API, put the following file <strong>extensions.xml</strong> in the <strong>/META-INF/maven/</strong> folder of your core extension.</p>

<pre class="prettyprint linenums"><code>&lt;extension&gt;
    &lt;exportedPackages&gt;
        &lt;exportedPackage&gt;com.google.inject.*&lt;/exportedPackage&gt;
        &lt;exportedPackage&gt;com.google.inject.binder.*&lt;/exportedPackage&gt;
        &lt;exportedPackage&gt;com.google.inject.matcher.*&lt;/exportedPackage&gt;
        &lt;exportedPackage&gt;com.google.inject.name.*&lt;/exportedPackage&gt;
        &lt;exportedPackage&gt;com.google.inject.spi.*&lt;/exportedPackage&gt;
        &lt;exportedPackage&gt;com.google.inject.util.*&lt;/exportedPackage&gt;
        &lt;exportedPackage&gt;com.google.inject.internal.*&lt;/exportedPackage&gt;
    &lt;/exportedPackages&gt;
&lt;/extension&gt;
</code></pre>
<p>Build your extensions as a jar, and put the its artifact identifiers in the <strong>.mvn/extensions.xml</strong> file to activate your extension, in the maven project where you want to use custom guice bindings.</p>

<pre class="prettyprint linenums"><code>&lt;extensions xmlns=&quot;http://maven.apache.org/EXTENSIONS/1.1.0&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xsi:schemaLocation=&quot;http://maven.apache.org/EXTENSIONS/1.1.0
                    https://maven.apache.org/xsd/core-extensions-1.0.0.xsd&quot;&gt;
  &lt;extension&gt;
    &lt;groupId/&gt;
    &lt;artifactId/&gt;
    &lt;version/&gt;
  &lt;/extension&gt;
&lt;/extensions&gt;
</code></pre>
<p>See the documentation <a href="https://maven.apache.org/ref/3.9.0/maven-core/core-extensions.html" class="externalLink">here</a> for more details on the exposed APIs by default.</p>
<p>Here is the <a href="https://maven.apache.org/guides/mini/guide-using-extensions.html" class="externalLink">documentation</a> that explains how to define a core extension.</p></section></section>        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
<a href="https://www.eclipse.org/legal/privacy/">Privacy Policy</a> | <a href="https://www.eclipse.org/legal/terms-of-use/">Terms of Use</a> | <a href="https://www.eclipse.org/legal/">Legal</a>
        </div>
      </div>
    </footer>
  </body>
</html>