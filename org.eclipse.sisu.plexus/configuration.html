<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0-M19 from src/site/markdown/configuration.md
 | Rendered using Apache Maven Fluido Skin 2.0.0-M11-SNAPSHOT
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0-M19" />
    <title>Overview â€“ Eclipse Sisu Plexus</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-2.0.0-M11-SNAPSHOT.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-2.0.0-M11-SNAPSHOT.min.js"></script>
  </head>
  <body>
    <a class="github-fork-ribbon right-top" href="https://github.com/eclipse-sisu/sisu-project" data-ribbon="Fork me on GitHub">Fork me on GitHub</a>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1><a href="../"><img src="../sisu-black.png" /></a></h1></div></div>
          <div class="pull-right"><div id="bannerRight"><h1><a href="https://eclipse.org/"><img src="../eclipse-foundation.svg" style="width: 150;" /></a></h1></div></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
      <li><a href="index.html">Sisu</a><span class="divider">/</span></li>
    <li class="active">Overview <a href="https://github.com/eclipse-sisu/sisu-project/tree/main/org.eclipse.sisu.plexus/src/site/markdown/configuration.md"><img src="./images/accessories-text-editor.png" alt="Edit" /></a></li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2024-09-30</li>
          <li id="projectVersion" class="pull-right"><span class="divider">|</span>Version: 0.9.0-SNAPSHOT</li>
        <li class="pull-right"><span class="divider">|</span>
<a href="https://projects.eclipse.org/projects/technology.sisu" class="externalLink">Eclipse Project Info</a></li>
        <li class="pull-right"><a href="https://github.com/google/guice" class="externalLink">Google Guice</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">General</li>
    <li><a href="../index.html">About</a></li>
    <li><a href="../apidocs/index.html">Javadoc</a></li>
    <li><a href="../download.html">Download</a></li>
    <li><a href="../support.html">Support</a></li>
    <li><a href="../development.html">Development</a></li>
   <li class="nav-header">Sisu Plexus</li>
    <li><a href="index.html">Overview</a></li>
    <li class="active"><a>Configuration</a></li>
    <li><a href="conversion-to-jsr330.html">Convert to JSR-330 annotations</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
<form id="search-form" action="https://www.google.com/search" method="get" >
  <input value="eclipse.dev/sisu/org.eclipse.sisu.plexus/" name="sitesearch" type="hidden" />
  <input class="search-query" name="q" id="query" type="text" placeholder="Search with Google..." />
</form>
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://maven.apache.org/" class="builtBy" target="_blank"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">
<ul>
<li><a href="#Overview">Overview</a></li>
<li><a href="#Basic_.28Value.29_Objects">Basic (Value) Objects</a></li>
<li><a href="#Composite_Objects">Composite Objects</a>
<ul>
<li><a href="#Collection_Objects">Collection Objects</a></li>
<li><a href="#Complex_Objects">Complex Objects</a></li></ul></li></ul>
<section><a id="Overview"></a>
<h1>Overview</h1>
<p>The <a href="apidocs/org/codehaus/plexus/component/configurator/package-summary.html">Plexus Component Configurator API</a> allows to configure components from a tree data structure (<a href="apidocs/org/codehaus/plexus/configuration/PlexusConfiguration.html"><code>PlexusConfiguration</code></a> objects) of <code>String</code> values. It is in most cases created from <a href="apidocs/org/codehaus/plexus/configuration/xml/XmlPlexusConfiguration.html">XML</a>. The most popular use case of this API is <a href="https://maven.apache.org/guides/mini/guide-configuring-plugins.html" class="externalLink">Configuration of Maven Mojos</a>.</p>
<p>For each configuration element the class/type is being determined (from the object to be configured) and then the <code>String</code> value converted accordingly. For each class/type the rules for conversions are outlined below.</p></section><section><a id="Basic_.28Value.29_Objects"></a>
<h1>Basic (Value) Objects</h1>
<p>For conversion to primitive types their according <a href="https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html" class="externalLink">wrapper classes are used and automatically unboxed</a>.</p>
<table class="table table-striped">
<thead>
<tr class="a">
<th>Class</th>
<th>Conversion from String</th>
<th>Since</th></tr></thead><tbody>
<tr class="b">
<td><code>Boolean</code></td>
<td><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html#valueOf-java.lang.String-" class="externalLink"><code>Boolean.valueOf(String)</code></a></td></tr>
<tr class="a">
<td><code>Byte</code></td>
<td><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Byte.html#decode-java.lang.String-" class="externalLink"><code>Byte.decode(String)</code></a></td></tr>
<tr class="b">
<td><code>Character</code></td>
<td><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#valueOf-char-" class="externalLink"><code>Character.valueOf(char)</code></a> of the first character in the given string</td></tr>
<tr class="a">
<td><code>Class</code></td>
<td><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#forName-java.lang.String-" class="externalLink"><code>Class.forName(String)</code></a>. <em>This conversion is not enabled by default</em>.</td></tr>
<tr class="b">
<td><code>java.util.Date</code></td>
<td><a href="https://docs.oracle.com/javase/8/docs/api/java/text/DateFormat.html#parse-java.lang.String-" class="externalLink"><code>SimpleDateFormat.parse(String)</code></a> for the following patterns: <code>yyyy-MM-dd hh:mm:ss.S a</code>, <code>yyyy-MM-dd hh:mm:ssa</code>, <code>yyyy-MM-dd HH:mm:ss.S</code> or <code>yyyy-MM-dd HH:mm:ss</code></td></tr>
<tr class="a">
<td><code>Double</code></td>
<td><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html#valueOf-java.lang.String-" class="externalLink"><code>Double.valueOf(String)</code></a></td></tr>
<tr class="b">
<td><code>Enum</code></td>
<td><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Enum.html#valueOf-java.lang.String-" class="externalLink"><code>Enum.valueOf(String)</code></a></td></tr>
<tr class="a">
<td><code>java.io.File</code></td>
<td><a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html#File-java.lang.String-" class="externalLink"><code>new File(String)</code></a> with the file separators normalized to <code>File.separatorChar</code>. In case the file is relative, it is made absolute by calling the given <a href="apidocs/org/codehaus/plexus/component/configurator/expression/ExpressionEvaluator.html#alignToBaseDirectory.28java.io.File.29"><code>ExpressionEvaluator's alignToBaseDirectory(File)</code> method</a>.</td></tr>
<tr class="b">
<td><code>Float</code></td>
<td><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Float.html#valueOf-java.lang.String-" class="externalLink"><code>Float.valueOf(String)</code></a></td></tr>
<tr class="a">
<td><code>Integer</code></td>
<td><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#decode-java.lang.String-" class="externalLink"><code>Integer.decode(String)</code></a></td></tr>
<tr class="b">
<td><code>Long</code></td>
<td><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html#decode-java.lang.String-" class="externalLink"><code>Long.decode(String)</code></a></td></tr>
<tr class="a">
<td><code>Short</code></td>
<td><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Short.html#decode-java.lang.String-" class="externalLink"><code>Short.decode(String)</code></a></td></tr>
<tr class="b">
<td><code>String</code></td>
<td>n/a</td></tr>
<tr class="a">
<td><code>StringBuffer</code></td>
<td><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuffer.html#StringBuffer-java.lang.String-" class="externalLink"><code>new StringBuffer(String)</code></a></td></tr>
<tr class="b">
<td><code>StringBuilder</code></td>
<td><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#StringBuilder-java.lang.String-" class="externalLink"><code>new StringBuilder(String)</code></a></td></tr>
<tr class="a">
<td><code>java.net.URI</code></td>
<td><a href="https://docs.oracle.com/javase/8/docs/api/java/net/URI.html#URI-java.lang.String-" class="externalLink"><code>new URI(String)</code></a></td></tr>
<tr class="b">
<td><code>java.net.URL</code></td>
<td><a href="https://docs.oracle.com/javase/8/docs/api/java/net/URL.html#URL-java.lang.String-" class="externalLink"><code>new URL(String)</code></a></td></tr>
<tr class="a">
<td><code>org.codehaus.plexus.configuration.PlexusConfiguration</code></td>
<td>the given <code>PlexusConfiguration</code> is passed as is (no conversion)</td></tr>
<tr class="b">
<td><code>java.nio.file.Path</code></td>
<td>same as <code>java.io.File</code> converted via <a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html#toPath--" class="externalLink"><code>toPath()</code></a></td>
<td>0.0.9.M3</td></tr>
<tr class="a">
<td><code>java.time.temporal.Temporal</code></td>
<td>created from via <a href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#parse-java.lang.CharSequence-" class="externalLink"><code>DateTimeFormatter.parse(String)</code></a> supporting same patterns as <code>java.util.Date</code>. Supports the following <a href="https://docs.oracle.com/javase/8/docs/api/java/time/temporal/Temporal.html" class="externalLink"><code>Temporal</code></a> classes: <a href="https://docs.oracle.com/javase/8/docs/api/java/time/temporal/LocalDate.html" class="externalLink"><code>LocalDate</code></a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/time/temporal/LocalDateTime.html" class="externalLink"><code>LocalDateTime</code></a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/time/temporal/LocalTime.html" class="externalLink"><code>LocalTime</code></a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/time/temporal/Instant.html" class="externalLink"><code>Instant</code></a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/time/temporal/OffsetDateTime.html" class="externalLink"><code>OffsetDateTime</code></a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/time/temporal/OffsetTime.html" class="externalLink"><code>OffsetTime</code></a> and <a href="https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ZonedDateTime.html" class="externalLink"><code>ZonedDateTime</code></a></td>
<td>0.0.9.M3</td></tr>
<tr class="b">
<td><code>*</code></td>
<td>only used as last resort, try class's constructor taking a single <code>String</code> value</td>
<td>0.0.9.M3</td></tr></tbody>
</table>
</section><section><a id="Composite_Objects"></a>
<h1>Composite Objects</h1><section><a id="Collection_Objects"></a>
<h2>Collection Objects</h2>
<p>The <strong>collection's implementation class</strong> is in most cases determined automatically according to the following table</p>
<table class="table table-striped">
<thead>
<tr class="a">
<th>Default Collection Class</th>
<th>Used for</th></tr></thead><tbody>
<tr class="b">
<td><code>TreeSet</code></td>
<td>all types assignable to <a href="https://docs.oracle.com/javase/8/docs/api/java/util/SortedSet.html" class="externalLink"><code>SortedSet</code></a></td></tr>
<tr class="a">
<td><code>HashSet</code></td>
<td>all types assignable to <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html" class="externalLink"><code>Set</code></a></td></tr>
<tr class="b">
<td><code>ArrayList</code></td>
<td>every other <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html" class="externalLink"><code>Collection</code></a> type which is not a <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" class="externalLink"><code>Map</code></a></td></tr>
<tr class="a">
<td><code>Properties</code></td>
<td>all types assignable to <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html" class="externalLink"><code>Properties</code></a></td></tr>
<tr class="b">
<td><code>TreeMap</code></td>
<td>all types assignable to <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" class="externalLink"><code>Map</code></a> but not <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html" class="externalLink"><code>Properties</code></a></td></tr>
<tr class="a">
<td><code>?[]</code></td>
<td>all array types</td></tr></tbody>
</table>

<p>In order to use a different class, one can leverage the attribute <code>implementation</code> which is supposed to contain the fully qualified class name.</p>
<p>The <strong>item type</strong> of the collection is in most cases determined automatically (from the parameterized type) but it can be overwritten:</p>
<ol style="list-style-type: decimal;">

<li>If the first item element contains an <code>implementation</code> attribute, try to load the class with the given fully qualified class name from the attribute value</li>
<li>If the first item element name contains a <code>.</code>, try to load the class with the fully qualified class name given in the element name</li>
<li>Try the first item element name (with capitalized first letter) as a class in the same package as the mojo/object being configured</li>
</ol>
<p>The value is either given in child leaf element values (the name does not matter) or for arrays and non-<code>Map</code> collection types as String value in the collection element itself (where comma is used as separator between the individual item values).
For <code>Map</code>s the the configuration element's name is used as key, while the configuration element's value is used as value.</p></section><section><a id="Complex_Objects"></a>
<h2>Complex Objects</h2>
<p>All other classes try to inject each leaf element individually. For that the following lookup order is used</p>
<ol style="list-style-type: decimal;">

<li>method <code>set&lt;name&gt;</code></li>
<li>method <code>add&lt;name&gt;</code></li>
<li>field <code>name</code></li>
</ol>
<p>The first found method/field is used to set the value via reflection (via method call or field setter).</p></section></section>        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
<a href="https://www.eclipse.org/legal/privacy/">Privacy Policy</a> | <a href="https://www.eclipse.org/legal/terms-of-use/">Terms of Use</a> | <a href="https://www.eclipse.org/legal/">Legal</a>
        </div>
      </div>
    </footer>
  </body>
</html>